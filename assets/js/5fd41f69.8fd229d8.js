"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[392],{6504:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>d});var s=t(5893),o=t(1151);const c={},a="Accounts",r={id:"Tezos-Accounts",title:"Accounts",description:"The accounts object of values.yaml defines Tezos accounts used in the chart.",source:"@site/02-Tezos-Accounts.md",sourceDirName:".",slug:"/Tezos-Accounts",permalink:"/Tezos-Accounts",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tezosK8sSidebar",previous:{title:"Helm charts",permalink:"/helm-chart"},next:{title:"Nodes",permalink:"/Tezos-Nodes"}},i={},d=[];function l(e){const n={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"accounts",children:"Accounts"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"accounts"})," object of values.yaml defines Tezos accounts used in the chart.\nBy default no account is configured:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"accounts: {}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"accounts"})," is a map where keys are account aliases and values are maps of\nfields ",(0,s.jsx)(n.code,{children:"key"}),", ",(0,s.jsx)(n.code,{children:"is_bootstrap_baker_account"}),", ",(0,s.jsx)(n.code,{children:"bootstrap_balance"}),", ",(0,s.jsx)(n.code,{children:"signer_url"}),"\nand ",(0,s.jsx)(n.code,{children:"operations_pool"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"key"})," field can be set to a public or private key. For a bootstrap baker,\nit must be set to a private key. The key type will be recognized automatically,\nand the pod will fail if the key type is unexpected."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"operations_pool"})," field instructs the baker to target a url for external\nmempool queries when baking a block. This is useful to run a Flashbake-capable baker.\nThe entry is passed to baker binaries using the ",(0,s.jsx)(n.code,{children:"--operations-pool"})," flag."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Public chains: Accounts do not get ",(0,s.jsx)(n.code,{children:"is_bootstrap_baker_account"})," and\n",(0,s.jsx)(n.code,{children:"bootstrap_balance"})," fields."]}),"\n",(0,s.jsxs)(n.li,{children:["Non-public chains: If you don't specify accounts needed by nodes, they can\nbe created deterministically via the above setting. If specifying, accounts\ncan be given a bootstrap balance and can also be configured to be bootstrap\nbaker accounts. Accounts with balances set to \"0\" will be imported by the\nnode but they will not be bootstrap accounts. If you don't set a bootstrap\nbalance, it will default to the ",(0,s.jsx)(n.code,{children:"bootstrap_mutez"})," field above."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'accounts:\n  baker0:\n    key: edsk...\n    is_bootstrap_baker_account: true\n    bootstrap_balance: "50000000000000"\n\n  baker1:\n    key: edsk...\n    operations_pool: http://flashbake-endpoint-baker-listener:12732\n'})}),"\n",(0,s.jsxs)(n.p,{children:["A public key account can contain a ",(0,s.jsx)(n.code,{children:"signer_url"})," to a remote signer\nthat signs with the corresponding secret key. You don't need to\nset this if you're deploying a tezos-k8s signer into the same\nnamespace of its baker. See ",(0,s.jsx)(n.code,{children:"octezSigners"})," and ",(0,s.jsx)(n.code,{children:"tacoinfraSigners"}),"\nfields in values.yaml to define remote signers. (You shouldn't add things\nto the URL path such as the public key hash. It will be added automatically.)"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'accounts:\n  externalSignerAccount:\n    key: edpk...\n    is_bootstrap_baker_account: true\n    bootstrap_balance: "4000000000000"\n    signer_url: http://[POD-NAME].[SERVICE-NAME].[NAMESPACE]:6732\n'})}),"\n",(0,s.jsxs)(n.p,{children:["An account being signed for by a Tacoinfra AWS KMS signer requires a\n",(0,s.jsx)(n.code,{children:"key_id"})," field. This should be a valid id of the AWS KMS key.\nThe key's corresponding public key must be provided here as well."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'accounts:\n  tacoinfraSigner:\n    key: sppk...\n    key_id: "cloud-id-of-key"\n    is_bootstrap_baker_account: true\n    bootstrap_balance: "4000000000000"\n'})})]})}function u(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var s=t(7294);const o={},c=s.createContext(o);function a(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);